diff -urN apache_1.3.17.org/src/modules/standard/mod_auth_dbm.c apache_1.3.17/src/modules/standard/mod_auth_dbm.c
--- apache_1.3.17.org/src/modules/standard/mod_auth_dbm.c	Fri Feb  2 15:29:26 2001
+++ apache_1.3.17/src/modules/standard/mod_auth_dbm.c	Fri Feb  2 15:29:38 2001
@@ -81,8 +81,12 @@
 #define dbm_fetch sdbm_fetch
 #define dbm_close sdbm_close
 #elif defined(__GLIBC__) && defined(__GLIBC_MINOR__) \
-    && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
+    && __GLIBC__ >= 2 && __GLIBC_MINOR__ == 1
 #include <db1/ndbm.h>
+#elif defined(__GLIBC__) && defined(__GLIBC_MINOR__) \
+    && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 2
+#define DB_DBM_HSEARCH 1
+#include <db.h>
 #else
 #include <ndbm.h>
 #endif
diff -urN apache_1.3.17.org/src/modules/standard/mod_rewrite.h apache_1.3.17/src/modules/standard/mod_rewrite.h
--- apache_1.3.17.org/src/modules/standard/mod_rewrite.h	Fri Feb  2 15:29:26 2001
+++ apache_1.3.17/src/modules/standard/mod_rewrite.h	Fri Feb  2 15:31:21 2001
@@ -131,8 +131,12 @@
      */
 #ifndef NO_DBM_REWRITEMAP
 #if defined(__GLIBC__) && defined(__GLIBC_MINOR__) \
-    && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
+    && __GLIBC__ >= 2 && __GLIBC_MINOR__ == 1
 #include <db1/ndbm.h>
+#elif defined(__GLIBC__) && defined(__GLIBC_MINOR__) \
+    && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 2
+#define DB_DBM_HSEARCH 1
+#include <db.h>
 #else
 #include <ndbm.h>
 #endif
